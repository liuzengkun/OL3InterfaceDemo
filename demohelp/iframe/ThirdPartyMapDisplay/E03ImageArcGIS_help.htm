<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
    <title>加载ArcGIS影像数据</title>
    <link href="../../css/helpstyle.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <div class="biaoti">
        加载ArcGIS影像数据
    </div>
    <div class="xiaobiaoti">
        一、示例功能
    </div>
    <div class="zhengwen">
        该示例实现加载ArcGIS影像数据功能。
    </div>
    <div class="xiaobiaoti">
        二、实现说明:
    </div>
    <div class="zhengwen">
        1、数据：使用ArcGIS影像数据。<br />
        <br/>
        2、实现步骤：
        <br />
        <br />
        [地图显示]<br />
        <br />
        （1）先引入ol.js（ol是一个专为WebGIS客户端开发提供的JavaScript 类库包，用于实现标准格式发布的地图数据访问。OpenLayers 3对OpenLayers网络地图库进行了根本的重新设计。openlayer2虽然被广泛使用，但从JavaScript开发的早期发展阶段开始，已日益显示出它的落后。
        OL3已运用现代的设计模式从底层重写。）、ol.css（是地图样式文件，包含了地图样式的方方面面，例如，填充色、图标样式、图片样式、规则图形样式、边界样式、文字样式等，样式一般针对矢量要素图层。）；
        <br />
        <br />
        （2）再创建一个ID为“mapCon”的div层，并设置其样式；
        <br />
        <br />
        （3）然后在body标签里面编写地图显示的脚本。<br /><br />
        &nbsp; &nbsp;1)创建鼠标位置控件，即ol.control.MousePosition()类；<br /><br />
        &nbsp; &nbsp;2)创建ol.map()类，通过设置该类的view属性确定地图的显示中心和级别,再通过设该类的control属性将鼠标位置控件添加到地图容器中。<br/><br/>
        &nbsp; &nbsp;3)创建ol.Attribution()类，通过设置该类的url属性构建HTML页标记的图层来源属性；<br /><br />
        &nbsp; &nbsp;4)创建ol.source.XYZ()类，通过设置该类的url属性获取ArcGIS影像数据，再通过设置该类attributions属性设置HTML页标记的图层来源属性；<br /><br />
        &nbsp; &nbsp;5)创建ol.layer.Tile()类，通过设置该类的source属性加载ArcGIS影像数据；
        <br />
        <br />
        （4）最后通过ol.map()类的addLayer(layer)方法将ArcGIS影像数据图层添加到地图容器中。<br />
    </div>
    <div class="xiaobiaoti">
        三、功能类/参数说明
    </div>
    <div class="zhengwen">
        <font class="Class">1、ol.control.MousePosition类：</font>鼠标位置控件，显示鼠标所在地图位置的坐标，默认右上角显示。
        <br />
        <br />
        <font class="constructorTile">1.1 构造函数：</font>
        <br />
        <div class="zhuji">
            <font class="constructor">ol.control.MousePosition(opt_options)</font><br />
            <br />
            <font class="paraDescription">参数说明：</font>
            <br />
            <font class="parameter">opt_options：</font>（Object类型）可选项，设置该对象其他属性，以键值对的形式设置。<br />
            <font class="nextParameter">【1】coordinateFormat：</font>（ol.CoordinateFormatType | undefined）可选项，设置坐标显示的格式，保留小数点后几位等。例如代码中：ol.coordinate.createStringXY(4)。<br />
            <font class="nextParameter">【2】projection：</font>（ol.ProjectionLike）可选项，设置投影信息。例如代码中：'EPSG:4326'。默认是地图本身投影。<br />
            <font class="nextParameter">【3】className：</font>（string | undefined）可选项，设置坐标信息样式类名。例如代码中：'custom-mouse-position'。默认为ol-mouse-position。<br />
            <font class="nextParameter">【4】target：</font>（Element | undefined）可选项，设置显示鼠标位置信息的目标容器。例如代码中：document.getElementById('mouse-position')。<br />
            <font class="nextParameter">【5】undefinedHTML：</font>（string | undefined）可选项，标记未定义坐标，例如代码中：'&nbsp;'。默认为空字符串。<br />
        </div><font class="Class">2、ol.coordinate类：</font>
        <br />
        <font class="funDescription">2.1方法说明：</font>
        <br />
        <div class="zhuji">
            <font class="functionName">ol.coordinate.createStringXY(opt_fractionDigits)：</font>返回值为{ol.CoordinateFormatType}类。<br />
            <font class="nextParameter">fractionDigits：</font>(number)可选项，保留小数点后几位。默认为0。<br />
        </div>
        <font class="Class">3、ol.Map类：</font>该类是一个地图容器类<br />
        <br />
        <font class="constructorTile">3.1 构造函数：</font>
        <br />
        <div class="zhuji">
            <font class="constructor">ol.Map(options)</font><br/>
            <br/>
            <font class="paraDescription">参数说明：</font>
            <br/>
            <font class="parameter">options：</font>（object类型）可选项，设置该对象其他属性，以键值对的形式设置。<br/>
            <font class="nextParameter">【1】target：</font>（Element | string | undefined）可选项，指定地图所在的网页div元素的id，例如代码中：'mapCon'。如果在构建时未指定，则必须调用ol.Map()类的setTarget()方法以便绘制地图。<br/>
            <font class="nextParameter">【2】layers：</font>（Array-[ol.layer.Base] | ol.Collection[ol.layer.Base | undefined]）可选项，指定加载的图层。如果未定义，则将呈现不包含图层的地图（图层是按提供的顺序呈现的，如果想要矢量图层显示在瓦片图层顶部，则必须位于瓦片图层之后）。<br/>
            <font class="nextParameter">【3】view：</font>（ol.View | undefined）可选项，设置地图显示视图。如果在构建时未指定，则必须通过ol.Map()类的setView()方法指定，否则不会提取图层源。<br/>
            <font class="nextParameter">【4】controls：</font>（ol.Collection.[ol.control.Control] | Array-[ol.control.Control] | undefined）可选项，添加地图控件。如果在构建时未指定，则调用ol.control.defaults()方法。详细介绍见下。<br/>
        </div>
        <font class="funDescription">3.2 方法说明：</font>
        <br />
        <div class="zhuji">
            <font class="functionName">addLayer(layer)：</font>将地图图层添加到地图容器中。<br/>
            <font class="nextParameter">layer：</font>(ol.layer.Base）地图图层。
        </div>
        <font class="Class">4、ol.View类：</font>ol.View对象是地图初始化必备三要素之一，表示一个简单的二维视图的映射，主要控制地图与用户的交互，如进行缩放，调节分辨率、地图的旋转等。<br />
        <br />
        <font class="constructorTile">4.1 构造函数：</font>
        <br />
        <div class="zhuji">
            <font class="constructor">ol.View(options)</font><br />
            <br />
            <font class="paraDescription">参数说明：</font>
            <br />
            <font class="parameter">options：</font>（object类型）可选项，设置该对象其他属性，以键值对的形式设置。<br />
            <font class="nextParameter">【1】center：</font>（ol.Coordinate | undefined）可选项，表示地图视图的中心位置。例如代码中：[-121.1, 47.5]。<br />
            <font class="nextParameter">【2】zoom：</font>（number | undefined）可选项，表示地图初始的缩放级别。例如代码中：2。
        </div>
        <font class="Class">5、ol.Control类：</font>该类是一个地图控件基类<br />
        <br />
        <font class="funDescription">5.1方法说明：</font>
        <br />
        <div class="zhuji">
            <font class="functionName">ol.control.defaults(opt_options)：</font>该方法表示地图默认包含的一组控件。除非另外配置，否则将返回一组默认的地图控件，分别是：ol.control.Zoom（地图缩放控件），ol.control.Rotate（地图旋转控件）,ol.control.Attribution（地图属性控件）。返回值为{ol.Collection | [ol.control.control]}类。<br />
            <font class="nextParameter">opt_options：</font>（Object类型）可选项，设置该对象其他属性，以键值对的形式设置。<br />
            <font class="nextParameter">&nbsp;&nbsp;&nbsp;&nbsp;attributionOptions：</font>( olx.control.AttributionOptions | undefined)设置属性控件的相关属性，例如：collapsible: true，即表示地图数据源信息控件可收缩。<br />默认为true。<br />
            <font class="nextParameter">&nbsp;&nbsp;&nbsp;&nbsp;zoom：</font>（number | undefined）可选项，设置地图初始的缩放级别(如果在构建时未指定，则必须通过ol.View()类的constrainResolution()方法确定初始缩放级别)。
        </div>
        <font class="Class">6、ol.Collection类：</font>该类是一个标准扩展JS数组类<br />
        <br />
        <font class="funDescription">6.1方法说明：</font>
        <br />
        <div class="zhuji">
            <font class="functionName">extend(arr)：</font>将要素添加到集合中<br />
            <font class="nextParameter">arr：</font>(Array）添加到集合的要素数组。例如代码中：ol.control.defaults().extend([mousePositionControl])，通过ol.control.defaults()方法返回ol.Collection()类，再通过ol.Collection()类的extend(arr)方法将鼠标位置控件添加到地图容器中。
        </div>
        <font class="Class">7、ol.Attribution类：</font>图层来源属性。<br />
        <br />
        <font class="constructorTile">7.1 构造函数：</font>
        <br />
        <div class="zhuji">
            <font class="constructor">ol.Attribution(options)</font><br />
            <br />
            <font class="paraDescription">参数说明：</font>
            <br />
            <font class="parameter">options：</font>（object类型）可选项，设置该对象其他属性，以键值对的形式设置。<br />
            <font class="nextParameter">【1】Attribution options：</font>（object类型）可选项，设置该对象其他属性，以键值对的形式设置。<br />
            <font class="nextParameter">&nbsp;&nbsp;&nbsp;&nbsp;html：</font>（string）必选项，HTML页标记的图层来源属性。<br />
            </font>
        </div>
        <font class="Class">8、ol.layer.Tile类：</font>该类是一个瓦片图层类，用于显示瓦片资源。这些瓦片提供了预渲染，并且由特定分辨率的缩放级别组织的瓦片图片网格组成。<br />
        <br />
        <font class="constructorTile">8.1 构造函数：</font>
        <br />
        <div class="zhuji">
            <font class="constructor">ol.layer.Tile(options)</font><br />
            <br />
            <font class="paraDescription">参数说明：</font>
            <br />
            <font class="parameter">options：</font>（object类型）可选项，设置该对象其他属性，以键值对的形式设置。<br />
            <font class="nextParameter">【1】source：</font>（ol.source.Tile）必填项。为图层设置来源、服务地址。<br />
        </div>
        <font class="Class">9、ol.source.XYZ类：</font>XYZ格式瓦片资源。<br />
        <br />
        <font class="constructorTile">9.1 构造函数：</font>
        <br />
        <div class="zhuji">
            <font class="constructor">ol.source.XYZ(opt_options)</font><br />
            <br />
            <font class="paraDescription">参数说明：</font>
            <br />
            <font class="parameter">opt_options：</font>（object类型）可选项，设置该图层的配置选项，以键值对的形式设置。<br />
            <font class="nextParameter">【1】attributions：</font>（ol.AttributionLike | undefined）可选项。HTML页标记的图层来源属性。<br />
            <font class="nextParameter">【2】url：</font>（string | undefined）必选项。XYZ格式瓦片资源的url。其中必须包括{ x }、{ y }或{ - y },{ z }占位符。<br />
            </font>
        </div>
        <p>
            <a href="http://openlayers.org/en/latest/apidoc/" alt="OpenLayers 3 API。"
               target="_blank">注：详细说明请参见OpenLayers3 API手册。</a>
        </p>
    </div>
</body>
</html>
